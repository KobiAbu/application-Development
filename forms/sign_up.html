<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>store </title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/animate.min.css">
    <link rel="stylesheet" href="assets/css/Corporate-Footer-Clean.css">
    <link rel="stylesheet" href="assets/css/Grid-and-List-view-V10-style.css">
    <link rel="stylesheet" href="assets/css/Grid-and-List-view-V10.css">
    <link rel="stylesheet" href="assets/css/Login-Form-Basic-icons.css">
    <link rel="stylesheet" href="assets/css/Pretty-Footer-.css">
    <link rel="stylesheet" href="assets/css/Sign-Up-Form---Gabriela-Carvalho.css">
    <link rel="stylesheet" href="assets/css/styles-1.css">
</head>

<body>
    <nav class="navbar navbar-expand-md navbar-light">
        <div class="container-fluid"><img src="assets/img/Letter-G-Jewelry-Logo%20(1).jpg" width="38" height="38"><a
                class="navbar-brand" href="index.html">Gold street</a>
            <div class="collapse navbar-collapse" id="navcol-1">
                <ul class="navbar-nav">

                    <li class="nav-item"><a class="nav-link" href="products.html">catalog</a></li>
                    <li class="nav-item"><a class="nav-link" href="log_in.html">log in</a></li>

                </ul>
            </div><a class="btn btn-primary ms-auto" role="button" href="/cart.html">cart</a>
        </div>

    </nav>
    <div class="container">
        <h1></h1>
    </div>
    <section class="position-relative py-4 py-xl-5">
        <div class="container">
            <div class="row mb-5">
                <div class="col-md-8 col-xl-6 text-center mx-auto">
                    <form>
                        <div class="gc004-container">
                            <h1>Sign Up</h1>
                            <p>Please fill in this form to create an account.</p>
                            <hr><label class="form-label fw-bold" for="email">Email</label>
                            <input type="text" placeholder="Enter Email" name="email" id="email" required>
                            <label class="form-label fw-bold" for="psw">Password</label>
                            <input type="password" id="password" placeholder="Enter Password" name="psw" required>
                            <label class="form-label fw-bold" for="email">Repeat Password</label>
                            <input id="rePass" type="password" placeholder="Repeat Password" name="psw-repeat" required>
                            <div class="gc-clearfix"><button class="gc-signupbtn" type="submit">Sign Up</button></div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
    <p></p>
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/bs-init.js"></script>
    <script src="assets/js/Grid-and-List-view-V10-script.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script>
        $("button").click(function (e) {
            e.preventDefault();
            const password = document.getElementById('password').value.trim()
            const rePassword = document.getElementById('rePass').value.trim()
            const email = document.getElementById('email').value
            if (!(password === rePassword)) {
                alert("the two passwords doesnt match")
            }

            else {
                console.log(email)
                const item = { email: email }
                $.ajax({
                    type: "GET",
                    url: "/getUserById/" + email,
                    success: function (response) {
                        alert("this email is already in use");
                    },
                    error: function () {
                        $.ajax({
                            type: "POST",
                            url: "/createUser",
                            data: {
                                email: email,
                                password: password
                            },
                            success: function (response) {
                                alert("your account has been created")
                                window.location.href = "log_in.html";
                            },
                            error: function () {
                                alert("couldnt create user")
                            }
                        });
                    }
                });
            }
  
        });
    </script>
</body>

</html>